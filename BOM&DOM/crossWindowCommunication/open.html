<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>open</title>
</head>
<body>
  <div>跳转后打开的窗口</div>
  <button id="btn">修改opener窗口的文档内容</button>
  <button id="modifyBtn">触发opener窗口的跳转方法</button>
  <script>
    const btn = document.querySelector('#btn');
    const modifyBtn = document.querySelector('#modifyBtn');

    console.log('获取跳转前页面的location:', window.opener.location);

    // window.open打开的同源的窗口可以获取上一个页面的文档并修改其内容
    const parentDoc = window.opener.document;
    parentTitle = parentDoc.querySelector('#title');
    btn.onclick = function() {
      parentTitle.innerHTML = '该窗口的内容已经被其打开的窗口修改了！'
      alert('修改成功，请到上一个窗口查看');
    }

    // window.open打开的同源的窗口可以调用上一个页面的方法
    modifyBtn.onclick = function () {
      window.opener.btnOfMainClick();
      // window.open打开的同源的窗口可以拿到上一个页面的变量
      // alert(window.opener.test);

      // 改变上一个页面的location，使其跳转
      // window.opener.location = 'https://www.baidu.com'
    }
  </script>
</body>
</html>